import{a as I,f as x}from"./chunk-IAMGS6YL.js";var f={"data-slider":"data-slider","data-slider-item":"data-slider-item",'data-slide="prev"':'data-slide="prev"','data-slide="next"':'data-slide="next"',"data-dot":"data-dot"},S=.6,w=(e,i)=>{let r=i.width/1e3;return e.right<i.left-r||e.left>i.right+r?0:e.left<i.left-r?e.right-i.left+r:e.right>i.right+r?i.right-e.left+r:e.width},y=e=>typeof e.offsetLeft=="number",A=({rootId:e,scroll:i,interval:r,infinite:u})=>{let l=document.getElementById(e),c=l?.querySelector(`[${f["data-slider"]}]`),o=l?.querySelectorAll(`[${f["data-slider-item"]}]`),g=l?.querySelector(`[${f['data-slide="prev"']}]`),m=l?.querySelector(`[${f['data-slide="next"']}]`),a=l?.querySelectorAll(`[${f["data-dot"]}]`);if(!l||!c||!o||o.length===0){console.warn("Missing necessary slider attributes. It will not work as intended. Necessary elements:",{root:l,slider:c,items:o,rootId:e});return}let v=()=>{let t=[],s=c.getBoundingClientRect();for(let n=0;n<o.length;n++){let L=o.item(n).getBoundingClientRect();w(L,s)/L.width>S&&t.push(n)}return t},h=t=>{let s=o.item(t);if(!y(s)){console.warn(`Element at index ${t} is not an html element. Skipping carousel`);return}c.scrollTo({top:0,behavior:i,left:s.offsetLeft-l.offsetLeft})},p=()=>{let t=v(),s=t.length,n=t[0]===0,d=Math.floor(t[t.length-1]/s);h(n?o.length-1:(d-1)*s)},b=()=>{let t=v(),s=t.length,n=t[t.length-1]===o.length-1,d=Math.floor(t[0]/s);h(n?0:(d+1)*s)},E=new IntersectionObserver(t=>t.forEach(s=>{let n=Number(s.target.getAttribute("data-slider-item"))||0,d=a?.item(n);s.isIntersecting?d?.setAttribute("disabled",""):d?.removeAttribute("disabled"),u||(n===0&&(s.isIntersecting?g?.setAttribute("disabled",""):g?.removeAttribute("disabled")),n===o.length-1&&(s.isIntersecting?m?.setAttribute("disabled",""):m?.removeAttribute("disabled")))}),{threshold:S,root:c});o.forEach(t=>E.observe(t));for(let t=0;t<(a?.length??0);t++)a?.item(t).addEventListener("click",()=>h(t));g?.addEventListener("click",p),m?.addEventListener("click",b);let k=r&&setInterval(b,r);return()=>{for(let t=0;t<(a?.length??0);t++)a?.item(t).removeEventListener("click",()=>h(t));g?.removeEventListener("click",p),m?.removeEventListener("click",b),E.disconnect(),clearInterval(k)}};function P({rootId:e,scroll:i="smooth",interval:r,infinite:u=!1}){return I(()=>A({rootId:e,scroll:i,interval:r,infinite:u}),[e,i,r,u]),x("div",{"data-slider-controller-js":!0})}var T=P;export{T as a};
